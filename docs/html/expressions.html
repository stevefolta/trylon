<!doctype html PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>

<head>

<title> 
Expressions
</title>

<style type="text/css">
body {
	margin-top: 0.5in;
	margin-bottom: 0.5in;
	margin-left: auto;
	margin-right: auto;
	width: 7in;
	font-family: Bitstream Charter, Lucida Grande, Georgia, Times, serif;
}

h2 {
	margin-top: 1.25em;
	margin-bottom: 0.5em;
	font-family: Arial, Helvetica, sans-serif;
	font-weight: bolder;
	font-size: 1.4em;
}

p {
}

div.entry {
	border-bottom: solid 1px #cccccc;
	margin-bottom: 1.75em;
	padding-bottom: 1em;
}

div.entry-title {
	margin-top: 1.25em;
	font-family: Arial, Helvetical, sans-serif;
	font-weight: bolder;
	font-size: 1.025em;
}

div.entry-date {
	margin-bottom: 1.05em;
	font-style: italic;
	font-size: x-small;
	color: gray;
}

div.titleless-entry-date {
	margin-bottom: 0.5em;
	font-style: italic;
	font-size: x-small;
	color: gray;
}

div.page-link {
	font-family: Arial, Helvetica, sans-serif;
}

div.code {
	margin-bottom: 1em;
	font-family: Courier, monospace;
	font-size: smaller;
	margin-left: 2em;
	margin-right: 2em;
	white-space: pre;
}

div.trylon-code {
	font-family: arial, sans;
	margin-left: 1em;
}

div.trylon-block {
	margin-left: 1em;
}

span.trylon-reserved-word {
	/* font-weight: bold; */
	color: #905010;
}

span.trylon-keyword {
	color: #0060FF;
}

span.trylon-constant {
	color: #800060;
}

span.trylon-comment {
	color: gray;
}

</style>
</head>


<body>

<h2>
Expressions
</h2>

<div class="entry">
<div class="entry-title"> Literals </div>
<p>
The usual string and numeric literals are supported.
</p>

<div class="trylon-code">
<div class="trylon-line"><span class="trylon-constant">"Some kinda something"</span></div>
<div class="trylon-line"><span class="trylon-constant">"The whole line.
"</span></div>
<div class="trylon-line"><span class="trylon-constant">3</span></div>
<div class="trylon-line"><span class="trylon-constant">2.75</span> [ Not yet supported. ]</div>
<div class="trylon-line"><span class="trylon-constant">0xDEADBEEF</span> [ Not yet supported. ]</div>
</div>

<p>
Symbols are like strings, except that only one instance of a given symbol exists throughout the entire program.  This means they can be compared for equality without looking at all the characters, and thus can take the place of enumerations.
</p>

<div class="trylon-code">
<div class="trylon-line"><span class="trylon-constant">'primary'</span></div>
<div class="trylon-line"><span class="trylon-reserved-word">if</span> alignment == <span class="trylon-constant">'justified'</span></div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-comment">#...</span></div>
</div>
<div class="trylon-line"><span class="trylon-reserved-word">switch</span> alignment</div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-constant">'left'</span></div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-comment"># ...</span></div>
</div>
<div class="trylon-line"><span class="trylon-constant">'right'</span></div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-comment"># ...</span></div>
</div>
<div class="trylon-line"><span class="trylon-constant">'center'</span></div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-comment"># ...</span></div>
</div>
<div class="trylon-line"><span class="trylon-constant">'justified'</span></div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-comment"># ...</span></div>
</div>
</div>
</div>

<p>
Character literals are specified using backquotes:
</p>

<div class="trylon-code">
<div class="trylon-line"><span class="trylon-reserved-word">if</span> cur-char == <span class="trylon-constant">`\n`</span></div>
<div class="trylon-block">
<div class="trylon-line"><span class="trylon-comment">#...</span></div>
</div>
</div>

<p>
Finally, there are the following named literals:
</p>

<div class="trylon-code">
<div class="trylon-line">true</div>
<div class="trylon-line">false</div>
<div class="trylon-line">nil</div>
</div>

</div>

<div class="entry">
<div class="entry-title"> Names </div>
<p>
The value of a variable is accessed simply by giving its name:
</p>

<div class="trylon-code">
<div class="trylon-line">args</div>
<div class="trylon-line">current-line</div>
<div class="trylon-line">point-1</div>
</div>

<p>
It could be the name of a local variable, a function argument, a field, or a shared variable.
</p>

<p>
Note that names can contain hyphens (although they can't start or end with a hyphen).  Underscores can also be used, but are heavily frowned upon.  Hyphens are much less ugly and easier to type.
</p>

</div>

<div class="entry">
<div class="entry-title"> Operators </div>
<p>
Most of the binary operators from C are available: +, -, *, /, %, |, &, ^.  However, there are some subtle differences from the C precedence rules (see below).  The || and && short-circuit operators are also available, as are the assignment operators (+=, -=, etc.).
</p>

<p>
There is a comma operator, but it's not used as it is in C.  Instead, it is used to create "Tuples", which are essentially a form of array:
</p>

<div class="trylon-code">
<div class="trylon-line">(<span class="trylon-constant">"one"</span>, <span class="trylon-constant">"two"</span>, <span class="trylon-constant">"three"</span>)</div>
</div>

<p>
These unary operators are available: -, +, ~, !.
</p>

</div>

<div class="entry">
<div class="entry-title"> Message Sends </div>
<p>
Sending a message to an object uses the normal Smalltalk syntax:
</p>

<div class="trylon-code">
<div class="trylon-line"><span class="trylon-constant">"Hello"</span> length</div>
<div class="trylon-line">point x</div>
<div class="trylon-line"><span class="trylon-constant">"Hello"</span> <span class="trylon-keyword">substr:</span> <span class="trylon-constant">3</span> <span class="trylon-keyword">length:</span> <span class="trylon-constant">2</span> <span class="trylon-comment"># "ll"</span></div>
</div>

<p>
For functions in the current scope (that is, in the current namespace and its enclosing namespaces), you don't need to specify the receiver:
</p>

<div class="trylon-code">
<div class="trylon-line">print-line</div>
<div class="trylon-line"><span class="trylon-keyword">print-line:</span> <span class="trylon-constant">"Hello"</span></div>
</div>

<p>
These would be message sends to the namespace prototype in which they are defined.  For instance "print-line" would be the same as "Standard print-line".
</p>

<p>
"Super" sends are also available:
</p>

<div class="trylon-code">
<div class="trylon-line">super <span class="trylon-keyword">create:</span> name</div>
</div>

</div>

<div class="entry">
<div class="entry-title"> Precedence </div>
<p>
Precedence is as follows:
</p>

<div class="trylon-code">
<div class="trylon-line">,</div>
<div class="trylon-line">=, +=, etc.</div>
<div class="trylon-line">||</div>
<div class="trylon-line">&amp;&amp;</div>
<div class="trylon-line">!</div>
<div class="trylon-line"><span class="trylon-keyword">keyword:</span> send</div>
<div class="trylon-line">|</div>
<div class="trylon-line">^</div>
<div class="trylon-line">&amp;</div>
<div class="trylon-line">==, !=</div>
<div class="trylon-line">&lt;, &gt;, &lt;=, &gt;=</div>
<div class="trylon-line">&lt;&lt;, &gt;&gt;</div>
<div class="trylon-line">+, -</div>
<div class="trylon-line">*, /, %</div>
<div class="trylon-line">unary+, unary-, ~</div>
<div class="trylon-line">unary send</div>
<div class="trylon-line">primary</div>
</div>

<p>
"Primaries" include literals, names by themselves, keyword sends with implicit receivers, and parenthesized expressions.
</p>

</div>



</body>
</html>
