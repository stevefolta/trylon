trylon-package Main

class Window
	superclass Carbon WindowManager Window

	fn create
		super create: (Rectangle new: (100, 100, 400, 400)) --
			attributes: ('standard-document-attributes', 'standard-handler', 	--
			             'in-window-menu')

	fn handle-event
		print-line: "Got window event."
		save-port := Carbon QuickDraw port
		Carbon QuickDraw window-port: this
		Carbon QuickDraw erase-rect: this port-bounds
		style := Carbon ATSUI Style new
		Carbon QuickDraw port: save-port

fn main: args
	window := Window new
	window show
	Carbon EventManager run-application-event-loop

