Class: WhileStatement
Superclass: Statement

condition: Expression;
body: Block;


create(condition: Expression, body: Block, comment: String)
{
	this.condition = condition;
	this.body = body;
	this.comment = comment;
}


emit-code(builder: MethodBuilder)
{
	builder.add-line(add-comment("while (1) {"));
	builder.add-line("_StartContinueCatcher_");
	result: ExpressionResult = condition.emit-code(builder);
	builder.add-line("if (!_Test_(" + result.access + "))");
	builder.add-line("\t_Break_");
	body.emit-code(builder);
	builder.add-line("_EndContinueCatcher_");
	builder.add-line("}");
}


