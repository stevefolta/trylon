trylon Int

extend Standard Int
	c-preamble
		#include <stdio.h>
		#define Val	(IntValue_(this_))

	c-fn new
		return CloneObjExtra_(Proto_(Standard__Int), 1);
	

	c-fn + other
		return BuildInt_(Val + IntValue_(other));

	c-fn - other
		return BuildInt_(Val - IntValue_(other));

	c-fn * other
		return BuildInt_(Val * IntValue_(other));

	c-fn / other
		return BuildInt_(Val / IntValue_(other));

	c-fn % other
		return BuildInt_(Val % IntValue_(other));

	c-fn unary-minus
		return BuildInt_(-Val);
	

	c-fn == other
		return Bool_(Val == IntValue_(other));

	c-fn != other
		return Bool_(Val == IntValue_(other));

	c-fn < other
		return Bool_(Val < IntValue_(other));

	c-fn <= other
		return Bool_(Val <= IntValue_(other));

	c-fn > other
		return Bool_(Val > IntValue_(other));

	c-fn >= other
		return Bool_(Val >= IntValue_(other));


	c-fn | other
		return BuildInt_(Val | IntValue_(other));

	c-fn & other
		return BuildInt_(Val & IntValue_(other));

	c-fn ^ other
		return BuildInt_(Val ^ IntValue_(other));
	
	c-fn ~
		return BuildInt_(~Val);
	
	c-fn << other
		return BuildInt_(Val << IntValue_(other));

	c-fn >> other
		return BuildInt_(Val >> IntValue_(other));


	c-fn string
		char* buf = AllocNonPtr_(64);
		sprintf(buf, "%d", Val);
		return BuildString_(buf);
	
	c-fn float
		return BuildFloat_(Val);
	
	c-fn is-digit
		int val = Val;
		return Bool_(val >= '0' && val <= '9');
	
	c-fn is-whitespace
		int val = Val;
		return Bool_(val == ' ' || val == '\t' || val == '\n' || val == '\r');



