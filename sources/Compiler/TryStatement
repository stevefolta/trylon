trylon TryStatement
superclass Statement

fields body else-clause


create: body comment: comment
	this body = body
	this comment = comment


attach-else: statement line: line
	else-clause = CatchClause new: body parent comment: nil
	statement parent = this 	# "statement" will be a Block.
	else-clause body = statement


prepare-to-emit
	body prepare-to-emit
	if else-clause
		else-clause prepare-to-emit


jolt-expression
	else-expr = nil
	if else-clause
		else-expr = else-clause jolt-expression
	else
		else-expr = 'nil'
	return Expression with: 'catch' with: body jolt-expression with: else-expr


translate: compiler
	else-expr = nil
	if else-clause
		else-expr = else-clause
	else
		else-expr = 'nil'
	expr = Expression with: 'catch' with: body with: else-expr
	return compiler translateExpression: expr



# Copyright 2007 Steve Folta.  See the License file.

