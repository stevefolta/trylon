trylon ProtoFunction
superclass TrylidFunction

fields proto


create: proto
	this proto = proto


emit-call: arguments
	return proto access


emit-code
	if proto is-main
		return nil
	list = List new
	namespace = proto
	while !namespace is-main
		list push-front: namespace
		namespace = namespace parent
	expr = Expression new: list count + 1
	expr at: 0 put: 'install-proto-loader'
	index = 1
	for namespace in list
		expr at: index put: namespace name intern
		index += 1
	return expr


name
	return proto name




# Copyright 2007 Steve Folta.  See the License file.

